<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: head('Formulario Función')"></head>
<body class="bg-dark text-white">
  <div th:replace="fragments :: header"></div>
  <div th:replace="fragments :: nav"></div>

  <div class="container w-50">
    <h2 class="mb-4"
        th:text="${funcion.id} != null ? 'Editar Función' : 'Nueva Función'"></h2>
    <form th:object="${funcion}"
          th:action="@{/funciones/guardar}"
          method="post">
      <input type="hidden"
             th:if="${funcion.id}"
             th:field="*{id}" />

      <div class="mb-3">
        <label class="form-label">Película</label>
        <select th:field="*{pelicula.id}"
                class="form-select"
                required>
          <option th:each="p : ${peliculas}"
                  th:value="${p.id}"
                  th:text="${p.titulo}">Título</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Fecha y Hora</label>
        <input type="datetime-local"
               th:field="*{fechaHora}"
               class="form-control"
               required/>
      </div>

      <div class="mb-3">
        <label class="form-label">Sala</label>
        <input th:field="*{sala}"
               class="form-control"
               required/>
      </div>

      <button type="submit" class="btn btn-primary">Guardar</button>
    </form>
  </div>

  <div th:replace="fragments :: footer"></div>
  <div th:replace="fragments :: scripts"></div>
</body>
</html>
