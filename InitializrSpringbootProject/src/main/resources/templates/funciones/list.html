<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><title>Funciones</title></head>
<body>
<div th:replace="fragments :: header"></div>
<div th:replace="fragments :: nav"></div>

<div class="container">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Funciones</h2>
    <a th:href="@{/funciones/nueva}" class="btn btn-success"
       sec:authorize="hasRole('ROLE_ADMIN')">Nueva Función</a>
  </div>

  <table class="table table-striped">
    <thead><tr><th>ID</th><th>Película</th><th>Fecha / Hora</th><th>Sala</th><th></th></tr></thead>
    <tbody>
      <tr th:each="f : ${funciones}">
        <td th:text="${f.id}"/>
        <td th:text="${f.pelicula.titulo}"/>
        <td th:text="${#dates.format(f.fechaHora,'dd/MM/yyyy HH:mm')}"/>
        <td th:text="${f.sala}"/>
        <td>
          <a th:href="@{|/funciones/eliminar/${f.id}|}" class="btn btn-danger btn-sm"
             sec:authorize="hasRole('ROLE_ADMIN')">Eliminar</a>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div th:replace="fragments :: footer"></div>
<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
</body>
</html>
