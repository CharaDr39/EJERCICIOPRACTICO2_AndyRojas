<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><title>Cartelera</title></head>
<body>
<div th:replace="fragments :: header"></div>
<div th:replace="fragments :: nav"></div>

<div class="container">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Cartelera</h2>
    <a th:href="@{/peliculas/nuevo}" class="btn btn-success"
       sec:authorize="hasRole('ROLE_ADMIN')">Nueva</a>
  </div>

  <table class="table table-striped">
    <thead><tr><th>ID</th><th>Título</th><th>Duración</th><th></th></tr></thead>
    <tbody>
      <tr th:each="p : ${peliculas}">
        <td th:text="${p.id}"/>
        <td th:text="${p.titulo}"/>
        <td th:text="${p.duracion} + ' min'"/>
        <td>
          <a th:href="@{|/peliculas/eliminar/${p.id}|}"
             class="btn btn-danger btn-sm"
             sec:authorize="hasRole('ROLE_ADMIN')">Eliminar</a>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div th:replace="fragments :: footer"></div>
<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
</body>
</html>
